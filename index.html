<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ููุธููุฉ ุตุฑุญ ุงูุชุงุจุนูู | ุบุฒุฉ - ุงููุตูุฑุงุช</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Tajawal:wght@400;500;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root { 
            --royal-blue: #00235a; 
            --gold-deep: #a67c00; 
            --gold-light: #d4af37;
            --bg-silk: #fcfcfc; 
            --emerald: #065f46;
        }
        
        body { 
            font-family: 'Tajawal', sans-serif; 
            background: var(--bg-silk); 
            scroll-behavior: smooth; 
            overflow-x: hidden; 
        }
        
        .font-amiri { font-family: 'Amiri', serif; }

        /* ุดุฑูุท ุงูุฅุนูุงูุงุช ุงููุชุทูุฑ */
        .marquee-slow { 
            background: var(--royal-blue); 
            color: white; 
            padding: 12px 0; 
            overflow: hidden; 
            border-bottom: 2px solid var(--gold-deep); 
            position: relative; 
            z-index: 1001; 
        }
        .marquee-track { 
            display: flex; 
            gap: 150px; 
            animation: move-very-slow 80s linear infinite; 
            width: max-content; 
        }
        @keyframes move-very-slow { 
            from { transform: translateX(0); } 
            to { transform: translateX(100%); } 
        }

        /* ูุธุงู ุงูุตูุญุงุช */
        .page { display: none; opacity: 0; transform: translateY(20px); transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1); }
        .page.active { display: block; opacity: 1; transform: translateY(0); }

        /* ุงูุฃุฒุฑุงุฑ ุงูููููุฉ */
        .btn-gold { 
            background: linear-gradient(135deg, var(--gold-deep) 0%, var(--gold-light) 100%); 
            color: white; 
            font-weight: 800; 
            border-radius: 15px; 
            transition: 0.4s; 
            cursor: pointer;
        }
        .btn-gold:hover { transform: translateY(-3px); box-shadow: 0 12px 25px rgba(166, 124, 0, 0.3); }
        
        /* ุงููุฏุฎูุงุช ุงูุขููุฉ */
        .secure-input { 
            background: #f9f9f9; 
            border: 2px solid transparent; 
            border-radius: 18px; 
            padding: 16px; 
            width: 100%; 
            transition: 0.3s; 
            outline: none; 
            font-weight: 700; 
        }
        .secure-input:focus { border-color: var(--royal-blue); background: white; box-shadow: 0 0 20px rgba(0,35,90,0.05); }

        /* ูุธุงู ุงูููุงุท/ุงูุฑุญูุฉ */
        .part-dot { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 900; transition: 0.4s; }
        .part-active { background: var(--gold-deep); color: white; box-shadow: 0 5px 15px rgba(166,124,0,0.3); }
        .part-inactive { background: #f3f4f6; color: #9ca3af; border: 1px dashed #d1d5db; }

        /* ุฃููููุดู */
        .float { animation: floating 3s ease-in-out infinite; }
        @keyframes floating { 0% { transform: translateY(0px); } 50% { transform: translateY(-10px); } 100% { transform: translateY(0px); } }
    </style>
</head>
<body>

    <div class="marquee-slow text-[11px] font-black tracking-widest uppercase">
        <div class="marquee-track" id="mainMarquee">
            <span>๐น ุตุฑุญ ุงูุชุงุจุนูู: ุบุฒุฉ - ุงููุตูุฑุงุช - ุงููุฎูู ุงูุฌุฏูุฏ - ุจุฌูุงุฑ ูุฏุฑุณุฉ ุงูุนุฑูุจุฉ</span>
            <span>๐น ููุงูุชู ูุญุงูุธ ูู ููุฑ ูู ูู ูุจุฑู.. ุณุงูู ูู ุงูููู ุงููุฑุขูู ุงูุขู</span>
            <span>๐น ุจุฅุดุฑุงู ุงูุฃุณุชุงุฐ ุฅุณูุงุนูู ูููู.. ุฌููู ูุฑุขูู ูุชููุฒ ุนูู ุฎุทู ุงูุชุงุจุนูู</span>
            <span id="latestDonation" class="text-amber-400">๐น ุดูุฑุงู ูููุชุจุฑุนูู ุงูุฐูู ุณุงูุฏูุง ุงูููู ูุฐุง ุงูููู</span>
        </div>
    </div>

    <nav class="bg-white/95 backdrop-blur-lg sticky top-0 z-50 border-b border-gray-100 shadow-sm">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center gap-4 cursor-pointer" onclick="goToPage('home')">
                <div class="w-14 h-14 bg-blue-900 rounded-2xl flex items-center justify-center text-white text-2xl shadow-xl">
                    <i class="fas fa-quran"></i>
                </div>
                <div>
                    <h1 class="text-xl font-black text-blue-900 leading-none">ุตุฑุญ ุงูุชุงุจุนูู</h1>
                    <p class="text-[9px] text-amber-600 font-bold mt-1 uppercase tracking-widest">The Imperial Quranic Center</p>
                </div>
            </div>
            
            <div class="hidden lg:flex gap-10 font-black text-[11px] text-blue-900 uppercase">
                <button onclick="goToPage('home')" class="hover:text-amber-600 transition">ุงูุฑุฆูุณูุฉ</button>
                <button onclick="goToPage('studentPortal')" class="hover:text-amber-600 transition">ุจูุงุจุฉ ุงูุทุงูุจ</button>
                <button onclick="goToPage('donation')" class="hover:text-amber-600 transition text-amber-600">ุงูููู ุงููุฑุขูู</button>
                <button onclick="goToPage('registration')" class="hover:text-amber-600 transition">ุณุฌู ุทููู</button>
            </div>

            <button onclick="goToPage('loginGate')" class="btn-gold px-6 py-3 text-[10px] uppercase">ุฏุฎูู ุงููุณุคูููู <i class="fas fa-shield-halved mr-2"></i></button>
        </div>
    </nav>

    <main>
        <section id="home" class="page active max-w-7xl mx-auto px-6 py-20">
            <div class="grid lg:grid-cols-2 gap-20 items-center">
                <div class="space-y-10">
                    <div class="inline-flex items-center gap-3 bg-blue-50 text-blue-900 px-6 py-2 rounded-full text-[10px] font-black border border-blue-100">
                        <i class="fas fa-star text-amber-500"></i> ูุฌูุน ุงูุชุงุจุนูู ุงููุฑุขูู - ุงููุตูุฑุงุช
                    </div>
                    <h2 class="text-7xl font-black text-blue-900 leading-[1.1]">ููุฑู ูู ููุจ <br> <span class="text-amber-600 font-amiri italic">ูุฎูููุง</span></h2>
                    <p class="text-xl text-gray-500 font-medium leading-relaxed max-w-lg italic">"ูุง ูุจูู ุฌุฏุฑุงูุงูุ ุจู ูุจูู ุตุฏูุฑุงู ุชุญูุธ ุงูููุฑ.. ุงูุถู ุฅูููุง ูู ุฑุญูุฉ ุตูุงุนุฉ ุฌูู ุงููุฑุขู."</p>
                    <div class="flex flex-wrap gap-5">
                        <button onclick="goToPage('donation')" class="btn-gold px-12 py-6 text-lg shadow-2xl">ุงุฏุนู ุงูููู ุงููุฑุขูู</button>
                        <button onclick="goToPage('studentPortal')" class="bg-white border-2 border-gray-100 px-10 py-5 rounded-2xl font-black hover:bg-gray-50 transition">ุจูุงุจุฉ ุงูุทุงูุจ</button>
                    </div>
                </div>
                <div class="relative group">
                    <div class="absolute -inset-10 bg-gradient-to-tr from-blue-900/10 to-amber-500/10 rounded-[80px] blur-3xl"></div>
                    <img src="https://images.unsplash.com/photo-1590076175574-e8893110534b?q=80&w=1000" class="relative z-10 rounded-[60px] shadow-3xl border-[12px] border-white transform hover:scale-[1.02] transition-transform duration-700">
                </div>
            </div>
        </section>

        <section id="donation" class="page max-w-5xl mx-auto px-6 py-12">
            <div class="text-center mb-16 space-y-4">
                <h2 class="text-5xl font-black text-blue-900 font-amiri italic underline decoration-amber-500 underline-offset-8">ุงูููู ุงููุฑุขูู ุงูุฏุงุฆู</h2>
                <p class="text-2xl text-gray-600 font-bold italic pt-4">"ุฃุฑุฃูุช ุฅู ุงููุทุน ุนููู ูุจูู ุฃุซุฑูุ ููุง ูููุชุจ ุงุณูู ูู ุตุฏูุฑ ุงูุญููุงุธ"</p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20">
                <div class="bg-white p-8 rounded-[40px] shadow-sm border-b-4 border-blue-900 text-center float">
                    <i class="fas fa-hands-holding-child text-4xl text-blue-900 mb-4"></i>
                    <h4 class="text-4xl font-black text-blue-900">$3,500</h4>
                    <p class="text-gray-400 font-bold text-xs mt-2 uppercase">ุฅุฌูุงูู ููุงูุงุช ูุฐุง ุงูุดูุฑ</p>
                </div>
                <div class="bg-white p-8 rounded-[40px] shadow-sm border-b-4 border-amber-500 text-center float" style="animation-delay: 0.5s">
                    <i class="fas fa-users-line text-4xl text-amber-500 mb-4"></i>
                    <h4 class="text-4xl font-black text-blue-900">120</h4>
                    <p class="text-gray-400 font-bold text-xs mt-2 uppercase">ุทุงูุจ ููุชุธุฑ ููุงูุชู</p>
                </div>
                <div class="bg-white p-8 rounded-[40px] shadow-sm border-b-4 border-emerald text-center float" style="animation-delay: 1s">
                    <i class="fas fa-mosque text-4xl text-emerald-600 mb-4"></i>
                    <h4 class="text-4xl font-black text-blue-900">8</h4>
                    <p class="text-gray-400 font-bold text-xs mt-2 uppercase">ุญููุงุช ุชุญุชุงุฌ ุชุทููุฑ</p>
                </div>
            </div>

            <div class="bg-white p-12 rounded-[60px] shadow-3xl border border-blue-50 relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-900 via-amber-500 to-blue-900"></div>
                <div class="grid md:grid-cols-2 gap-12">
                    <div class="space-y-6">
                        <h3 class="text-3xl font-black text-blue-900">ุณุงูู ุงูุขู</h3>
                        <p class="text-gray-500 font-bold italic leading-relaxed">ุชุจุฑุนู ุงูููู ูู ุงุณุชุซูุงุฑ ูู ุฌูู ุบุฒุฉ ุงููุงุฏูุ ูู ุฏููุงุฑ ูุณุงูู ูู ุฏูุน ุฑูุงุชุจ ุงููุญูุธูู ูุชูููุฑ ุงูุฌูุงุฆุฒ ููุทูุงุจ ุงููุชููุฒูู.</p>
                        <div class="space-y-4">
                            <input type="text" id="donorName" class="secure-input" placeholder="ุงูุงุณู (ุฃู ุงุชุฑูู ููุงุนู ุฎูุฑ)">
                            <input type="number" id="donorAmount" class="secure-input" placeholder="ูุจูุบ ุงูุชุจุฑุน ($)">
                            
                            <div class="bg-amber-50 p-6 rounded-3xl border border-amber-100">
                                <p class="text-sm font-black text-blue-900 mb-4">ูู ุชุฑุบุจ ูู ุธููุฑ ุงุณูู ูู "ููุญุฉ ุดุฑู" ุงููููุนุ</p>
                                <div class="flex gap-6">
                                    <label class="flex items-center gap-2 cursor-pointer font-bold text-sm">
                                        <input type="radio" name="showInMarquee" value="yes" checked> ูุนูุ ูุฎุฑู ูู
                                    </label>
                                    <label class="flex items-center gap-2 cursor-pointer font-bold text-sm">
                                        <input type="radio" name="showInMarquee" value="no"> ุงุฌุนููุง ุตุฏูุฉ ุฎููุฉ
                                    </label>
                                </div>
                            </div>
                        </div>
                        <button onclick="submitDonation()" id="donBtn" class="w-full btn-gold py-6 text-xl shadow-xl">ุชุฃููุฏ ุงูููู ูุงููุณุงููุฉ</button>
                    </div>
                    <div class="bg-blue-900 rounded-[40px] p-10 text-white flex flex-col justify-center space-y-6">
                        <h4 class="text-2xl font-black font-amiri italic">"ุฅุฐุง ูุงุช ุงุจู ุขุฏู ุงููุทุน ุนููู ุฅูุง ูู ุซูุงุซ..."</h4>
                        <p class="opacity-80 font-medium leading-relaxed italic">ูููุง ุตุฏูุฉ ุฌุงุฑูุฉ.. ูุฃู ุตุฏูุฉ ุฃุนุธู ูู ุฏุนู ูู ูุฑุชู ููุงู ุงููู ุขูุงุก ุงูููู ูุฃุทุฑุงู ุงูููุงุฑ ูู ููุจ ุบุฒุฉ ุงูุตุงุจุฑุฉุ</p>
                        <div class="pt-6 border-t border-white/10 text-center">
                            <p class="text-[10px] uppercase tracking-[0.3em]">ุจุฅุดุฑุงู ุงููุฌูุฉ ุงููุงููุฉ ูููุฑูุฒ</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="studentPortal" class="page max-w-5xl mx-auto px-6 py-12">
            <div id="studentLoginSection" class="max-w-md mx-auto text-center mb-10">
                <div class="w-20 h-20 bg-blue-900 rounded-3xl mx-auto mb-6 flex items-center justify-center text-white text-3xl shadow-xl">
                    <i class="fas fa-user-graduate"></i>
                </div>
                <h3 class="text-3xl font-black text-blue-900 mb-6 font-amiri italic">ููู ุงููุชุงุจุนุฉ ุงูุฅููุชุฑููู</h3>
                <input type="text" id="studentID" class="secure-input mb-4 text-center text-2xl tracking-widest" placeholder="ุฃุฏุฎู ุฑูู ุงูู ID">
                <button onclick="fetchStudentData()" id="stdQueryBtn" class="btn-gold w-full py-5">ูุชุญ ุงูููู ุงูุดุฎุตู</button>
                <button onclick="goToPage('home')" class="mt-4 text-gray-400 font-black text-xs hover:text-blue-900">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</button>
            </div>

            <div id="studentDisplayArea" class="hidden animate-in fade-in slide-in-from-bottom-10 duration-700">
                <div class="bg-white rounded-[50px] p-10 shadow-sm border border-gray-100 mb-10 flex flex-col md:flex-row justify-between items-center gap-8">
                    <div class="flex items-center gap-8">
                        <div id="stdAvatar" class="w-24 h-24 bg-gradient-to-br from-blue-900 to-blue-700 rounded-3xl flex items-center justify-center text-white text-4xl font-black shadow-2xl">ุฃ</div>
                        <div>
                            <h2 id="displayName" class="text-4xl font-black text-blue-900">...</h2>
                            <p id="displayRing" class="text-amber-600 font-bold mt-2 text-sm italic uppercase tracking-wider"></p>
                        </div>
                    </div>
                    <button onclick="location.reload()" class="bg-red-50 text-red-600 px-8 py-3 rounded-2xl font-black text-xs hover:bg-red-100 transition">ุชุณุฌูู ุงูุฎุฑูุฌ</button>
                </div>

                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2 bg-white rounded-[50px] p-12 border border-gray-100 shadow-sm">
                        <h3 class="text-2xl font-black text-blue-900 mb-12 flex items-center gap-4">
                            <i class="fas fa-map-marked-alt text-amber-600"></i> ุฎุฑูุทุชู ูุญู ุงูุชุงุฌ ุงููููุฑ
                        </h3>
                        <div id="journeyDots" class="flex flex-wrap justify-center gap-3"></div>
                        <p id="journeyText" class="mt-10 text-center font-black text-blue-900 italic text-lg">...</p>
                    </div>

                    <div class="space-y-8">
                        <div class="bg-blue-900 p-8 rounded-[40px] text-white shadow-xl relative overflow-hidden group">
                            <i class="fas fa-quote-right absolute top-4 left-4 text-white/10 text-6xl"></i>
                            <h4 class="font-black mb-4 relative z-10"><i class="fas fa-lightbulb text-amber-400 mr-2"></i> ุฑุณุงูุชูุง ูู:</h4>
                            <p id="studentInspiration" class="font-bold italic opacity-90 leading-relaxed relative z-10">...</p>
                        </div>
                        <div class="bg-amber-50 p-8 rounded-[40px] border border-amber-100 shadow-sm">
                            <h4 class="font-black text-blue-900 mb-4"><i class="fas fa-heart text-red-500 mr-2"></i> ูููู ุงูุฃูุฑ:</h4>
                            <p id="parentMessage" class="font-bold text-gray-600 italic leading-relaxed">...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="loginGate" class="page max-w-lg mx-auto px-6 py-20">
            <div class="bg-white p-12 rounded-[50px] shadow-3xl border border-gray-100 text-center">
                <div class="w-20 h-20 bg-amber-500 rounded-3xl mx-auto mb-8 flex items-center justify-center text-white text-3xl shadow-xl">
                    <i class="fas fa-key"></i>
                </div>
                <h2 class="text-3xl font-black text-blue-900 mb-4 font-amiri italic">ููุธููุฉ ุงูุชุญูู</h2>
                <p class="text-gray-400 font-bold text-xs mb-8 uppercase tracking-widest">ูุฑุฌู ุฅุฏุฎุงู ูููุฉ ุงููุฑูุฑ ุงูุณุฑูุฉ</p>
                <input type="password" id="sysPassword" class="secure-input text-center mb-6 text-2xl" placeholder="โขโขโขโขโขโขโขโข">
                <button onclick="checkAccess()" class="w-full btn-gold py-5 text-lg">ุฏุฎูู ุงููุธุงู</button>
            </div>
        </section>

        <section id="adminDashboard" class="page max-w-7xl mx-auto px-6 py-12">
            <div class="flex justify-between items-center bg-blue-900 p-10 rounded-[40px] text-white mb-12 shadow-2xl relative overflow-hidden">
                <div class="relative z-10">
                    <h2 class="text-4xl font-black font-amiri italic">ุนุฑุด ุงูุฅุฏุงุฑุฉ ุงูุนููุง</h2>
                    <p class="opacity-70 mt-2 font-bold italic">ูุฑุญุจุงู ุจู ุฃุณุชุงุฐ ุฅุณูุงุนูู ูููู | ูุฏูุฑ ุตุฑุญ ุงูุชุงุจุนูู</p>
                </div>
                <button onclick="location.reload()" class="bg-white/10 hover:bg-white/20 px-8 py-3 rounded-2xl font-black text-xs relative z-10">ุชุณุฌูู ุงูุฎุฑูุฌ ุงูุขูู</button>
                <i class="fas fa-mosque absolute -right-10 -bottom-10 text-[200px] text-white/5"></i>
            </div>

            <div class="grid md:grid-cols-4 gap-8 mb-12">
                <div class="bg-white p-8 rounded-3xl shadow-sm border-r-8 border-blue-900">
                    <h4 class="text-gray-400 font-black text-[10px] uppercase">ุฅุฌูุงูู ุงูุทูุงุจ</h4>
                    <p class="text-4xl font-black text-blue-900 mt-2">342</p>
                </div>
                <div class="bg-white p-8 rounded-3xl shadow-sm border-r-8 border-amber-500">
                    <h4 class="text-gray-400 font-black text-[10px] uppercase">ุตูุฏูู ุงูููู</h4>
                    <p class="text-4xl font-black text-emerald-600 mt-2">$14,250</p>
                </div>
                <div class="bg-white p-8 rounded-3xl shadow-sm border-r-8 border-red-500">
                    <h4 class="text-gray-400 font-black text-[10px] uppercase">ุทูุจุงุช ุฌุฏูุฏุฉ</h4>
                    <p class="text-4xl font-black text-blue-900 mt-2">12</p>
                </div>
                <div class="bg-white p-8 rounded-3xl shadow-sm border-r-8 border-emerald">
                    <h4 class="text-gray-400 font-black text-[10px] uppercase">ุงููุญูุธูู</h4>
                    <p class="text-4xl font-black text-blue-900 mt-2">9</p>
                </div>
            </div>

            <div class="bg-white p-10 rounded-[50px] shadow-sm border border-gray-100">
                <div class="flex justify-between items-center mb-8">
                    <h3 class="text-2xl font-black text-blue-900">ุณุฌู ุงูุจูุงูุงุช ุงููุฑูุฒู</h3>
                    <button class="bg-blue-50 text-blue-900 px-6 py-2 rounded-xl font-bold text-xs">ุชุตุฏูุฑ ูููู Excel</button>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-right">
                        <thead class="bg-gray-50 border-b border-gray-100">
                            <tr>
                                <th class="p-4 font-black text-xs text-gray-500 uppercase">ุงูุทุงูุจ</th>
                                <th class="p-4 font-black text-xs text-gray-500 uppercase">ุงููุณุฌุฏ</th>
                                <th class="p-4 font-black text-xs text-gray-500 uppercase">ุงููุญูุธ</th>
                                <th class="p-4 font-black text-xs text-gray-500 uppercase">ุงูุฅูุฌุงุฒ</th>
                                <th class="p-4 font-black text-xs text-gray-500 uppercase">ุขุฎุฑ ุชุญุฏูุซ</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-100 font-bold text-sm">
                            <tr>
                                <td class="p-4">ุฃุญูุฏ ูุญูุฏ ุงูุนุตุงุฑ</td>
                                <td class="p-4">ูุณุฌุฏ ุงูุชุงุจุนูู</td>
                                <td class="p-4">ุฃ. ูุงูุถ ุงูุนุตุงุฑ</td>
                                <td class="p-4 text-amber-600">22 ุฌุฒุก</td>
                                <td class="p-4 text-gray-400">ููุฐ ุณุงุนุชูู</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="teacherDashboard" class="page max-w-5xl mx-auto px-6 py-12">
            <div class="bg-white p-12 rounded-[50px] shadow-2xl">
                <h2 class="text-3xl font-black text-blue-900 mb-10 font-amiri italic border-b pb-6">ุชุญุฏูุซ ุณุฌูุงุช ุงูุทูุงุจ</h2>
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-4">
                        <label class="text-xs font-black text-gray-400 uppercase mr-2">ID ุงูุทุงูุจ ุงููุณุชูุฏู</label>
                        <input type="text" id="tTargetID" class="secure-input" placeholder="ุฃุฏุฎู ID ุงูุทุงูุจ">
                    </div>
                    <div class="space-y-4">
                        <label class="text-xs font-black text-gray-400 uppercase mr-2">ุนุฏุฏ ุงูุฃุฌุฒุงุก ุงูููุฌุฒุฉ</label>
                        <input type="number" id="tParts" class="secure-input" placeholder="ูุซูุงู: 15">
                    </div>
                </div>
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="space-y-4">
                        <label class="text-xs font-black text-gray-400 uppercase mr-2">ุงูุชูููู ุงูุญุงูู</label>
                        <select id="tGrade" class="secure-input">
                            <option>ููุชุงุฒ ูุฑุชูุน ๐</option>
                            <option>ููุชุงุฒ โ</option>
                            <option>ุฌูุฏ ุฌุฏุงู ๐</option>
                            <option>ูุญุชุงุฌ ูุฑุงุฌุนุฉ โ๏ธ</option>
                        </select>
                    </div>
                    <div class="space-y-4">
                        <label class="text-xs font-black text-gray-400 uppercase mr-2">ุชุณููุน ุงูููู</label>
                        <input type="text" id="tTodayRecord" class="secure-input" placeholder="ูุซูุงู: ูู ุณูุฑุฉ ุงูุจูุฑุฉ ุฅูู ุขู ุนูุฑุงู">
                    </div>
                </div>
                <div class="space-y-4 mb-10">
                    <label class="text-xs font-black text-gray-400 uppercase mr-2">ุฑุณุงุฆู ุชุญููุฒูุฉ (ุฎุงุตุฉ)</label>
                    <textarea id="tMsg" class="secure-input h-32" placeholder="ุงูุชุจ ุฑุณุงูุฉ ุณุชุธูุฑ ููุทุงูุจ ูููู ุฃูุฑู..."></textarea>
                </div>
                <button onclick="submitTeacherUpdate()" id="tUpdateBtn" class="w-full btn-gold py-6 text-xl">ุญูุธ ุงูุจูุงูุงุช ูู ุงูุณุฌู ุงูุณุญุงุจู</button>
            </div>
        </section>

        <section id="registration" class="page max-w-5xl mx-auto px-6 py-20">
            <div class="bg-white p-16 rounded-[60px] shadow-3xl text-center">
                <h2 class="text-4xl font-black text-blue-900 font-amiri italic mb-4">ุจูุงุจุฉ ุงูุงูุชุณุงุจ ุงูุฑุณููุฉ</h2>
                <p class="text-gray-400 font-bold text-xs uppercase tracking-widest mb-12">ุณุฌู ุทููู ููููู ูู ุญููุงุธ ูุชุงุจ ุงููู</p>
                <div class="grid md:grid-cols-2 gap-8 mb-10">
                    <input type="text" id="regName" class="secure-input" placeholder="ุงุณู ุงูุทุงูุจ ุฑุจุงุนูุงู">
                    <input type="text" id="regPhone" class="secure-input" placeholder="ุฑูู ูุงุชุณุงุจ ููู ุงูุฃูุฑ">
                    <select id="regMosque" class="secure-input">
                        <option value="">ุงุฎุชุฑ ุงููุณุฌุฏ</option>
                        <option>ูุณุฌุฏ ุงูุชุงุจุนูู</option>
                        <option>ูุณุฌุฏ ูุนุงุฐ ุจู ุฌุจู</option>
                        <option>ูุณุฌุฏ ุงูุชุงุจุนูู (ูููุณุงุก)</option>
                    </select>
                    <select id="regTeacher" class="secure-input">
                        <option value="">ุงุฎุชุฑ ุงููุญูุธ</option>
                        <option>ุฃ. ูุงูุถ ุงูุนุตุงุฑ</option>
                        <option>ุฃ. ูุญูุฏ ุงูุนุตุงุฑ</option>
                        <option>ุฃ. ูุญููุฏ ุงูุนูุตู</option>
                    </select>
                </div>
                <button onclick="submitNewStudent()" id="regBtn" class="btn-gold px-16 py-6 text-xl">ุฅุฑุณุงู ุทูุจ ุงูุงูุชุญุงู</button>
            </div>
        </section>
    </main>

    <footer class="py-20 bg-white border-t mt-24 text-center">
        <div class="max-w-7xl mx-auto px-6">
            <div class="flex justify-center gap-8 mb-10 text-blue-900 text-2xl">
                <i class="fab fa-facebook hover:text-amber-500 cursor-pointer transition"></i>
                <i class="fab fa-whatsapp hover:text-amber-500 cursor-pointer transition"></i>
                <i class="fab fa-youtube hover:text-amber-500 cursor-pointer transition"></i>
            </div>
            <p class="text-gray-400 font-black text-[10px] tracking-[0.5em] uppercase italic">
                ุญููู ุงูุทุจุน ูุญููุธุฉ ยฉ 2026 ุตุฑุญ ุงูุชุงุจุนูู - ุงููุตูุฑุงุช - ุงููุฎูู ุงูุฌุฏูุฏ
            </p>
        </div>
    </footer>

    <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycby9TJ1YcsrhZm5O3TWP41B49KP2rR-2BBP2g8lzULTQvgTacOEIPk-1_GGTliBKUxNrOw/exec';

        // 1. ุงูุชููู ุจูู ุงูุตูุญุงุช
        function goToPage(id) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            setTimeout(() => { document.getElementById(id).classList.add('active'); }, 50);
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // 2. ูุญุต ุงูุฏุฎูู (ุงููุฏูุฑ ูุงููุญูุธ)
        function checkAccess() {
            const pass = document.getElementById('sysPassword').value;
            if (pass === "Admin2026") {
                goToPage('adminDashboard');
            } else if (pass === "2026") {
                goToPage('teacherDashboard');
            } else {
                alert("โ ูููุฉ ุงููุฑูุฑ ุฎุงุทุฆุฉุ ูุฑุฌู ุงููุญุงููุฉ ูุฑุฉ ุฃุฎุฑู.");
            }
        }

        // 3. ุงุณุชุนูุงู ุจูุงูุงุช ุงูุทุงูุจ ูู Google Sheets
        async function fetchStudentData() {
            const id = document.getElementById('studentID').value;
            const btn = document.getElementById('stdQueryBtn');
            if(!id) return alert("ูุฑุฌู ุฅุฏุฎุงู ุงูุฑูู ุงูุชุนุฑููู");

            btn.innerText = "ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุณุฌู..."; btn.disabled = true;

            try {
                const res = await fetch(`${scriptURL}?action=getStudent&id=${id}`);
                const data = await res.json();

                if(data.found) {
                    document.getElementById('studentLoginSection').classList.add('hidden');
                    document.getElementById('studentDisplayArea').classList.remove('hidden');
                    document.getElementById('displayName').innerText = data.name;
                    document.getElementById('displayRing').innerText = `ุญููุฉ ${data.teacher} - ${data.mosque}`;
                    document.getElementById('studentInspiration').innerText = data.studentMsg || "ุงููุฑุขู ูู ุฑูููู ุงูุฃูููุ ูุงุณุชูุณู ุจู ูุฑูุนู ูู ุงูุฏููุง ูุงูุขุฎุฑุฉ.";
                    document.getElementById('parentMessage').innerText = data.parentMsg || "ูุจุงุฑู ููู ูุฐุง ุงูุบุฑุณ ุงูุทูุจุ ูุงุจููู ุงูููู ูู ุซูุฑุฉ ูุฎุฑ ูููุฑูุฒ ูููู.";
                    
                    updateJourneyMap(data.parts);
                } else {
                    alert("โ๏ธ ุนุฐุฑุงูุ ูุฐุง ุงูุฑูู ุบูุฑ ูุณุฌู ูู ูุงุนุฏุฉ ุจูุงูุงุช ุงููุฑูุฒ.");
                }
            } catch (e) {
                alert("โ ูุดู ุงูุงุชุตุงู ุจุงูุฎุงุฏูุ ุชุฃูุฏ ูู ุงุชุตุงู ุงูุฅูุชุฑูุช.");
            }
            btn.innerText = "ูุชุญ ุงูููู ุงูุดุฎุตู"; btn.disabled = false;
        }

        // 4. ุชุญุฏูุซ ุฎุฑูุทุฉ ุงูุฎุชูุฉ (30 ุฌุฒุก)
        function updateJourneyMap(parts) {
            const container = document.getElementById('journeyDots');
            container.innerHTML = '';
            // ุนุฑุถ ุงูู 30 ุฌุฒุก ุจุดูู ุนูุณู (ูู 30 ุฅูู 1) ููููู ุงูู 30 ูู ุงูููุฉ
            for (let i = 30; i >= 1; i--) {
                const d = document.createElement('div');
                d.className = `part-dot ${i >= (31 - parts) ? 'part-active' : 'part-inactive'}`;
                d.innerText = i;
                container.appendChild(d);
            }
            document.getElementById('journeyText').innerText = `ุจูุถู ุงูููุ ุฃูุฌุฒุช ${parts} ุฃุฌุฒุงุก ูู ูุชุงุจ ุงููู.. ุชุจูู ูู ${30-parts} ุฎุทูุงุช ูุญู ุงูุฎุชูุฉ!`;
        }

        // 5. ุฅุฑุณุงู ุชุจุฑุน ุฌุฏูุฏ ูุชุญุฏูุซ ุดุฑูุท ุงูุดุฑู
        async function submitDonation() {
            const name = document.getElementById('donorName').value || "ูุงุนู ุฎูุฑ";
            const amount = document.getElementById('donorAmount').value;
            const isVisible = document.querySelector('input[name="showInMarquee"]:checked').value;
            const btn = document.getElementById('donBtn');

            if(!amount) return alert("ูุฑุฌู ุฅุฏุฎุงู ูุจูุบ ุงููุณุงููุฉ");

            btn.innerText = "ุฌุงุฑู ุชุฃููุฏ ุงูููู..."; btn.disabled = true;

            try {
                const data = { action: 'addDonation', name, amount, visible: isVisible };
                await fetch(scriptURL, { method: 'POST', body: JSON.stringify(data) });
                
                if (isVisible === "yes") {
                    const marquee = document.getElementById('mainMarquee');
                    const span = document.createElement('span');
                    span.className = "text-amber-400 font-black";
                    span.innerHTML = `๐น ุดูุฑุงู ูููุชุจุฑุน: ${name} (ูุณุงููุฉ ุจูููุฉ ${amount}$)`;
                    marquee.prepend(span);
                    alert(`โ ุชูุจู ุงููู ููู ูุง ${name}. ุชู ุชุณุฌูู ูุณุงููุชู ูุธููุฑูุง ูู ููุญุฉ ุงูุดุฑู.`);
                } else {
                    alert("โ ุชู ุชุณุฌูู ุชุจุฑุนู ุจูุฌุงุญ. ุฌุนูู ุงููู ูู ููุฒุงู ุญุณูุงุชู (ุตุฏูุฉ ุฎููุฉ).");
                }
                goToPage('home');
            } catch (e) {
                alert("โ ุญุฏุซ ุฎุทุฃ ูู ุงูุฑุจุท");
            }
            btn.innerText = "ุชุฃููุฏ ุงูููู ูุงููุณุงููุฉ"; btn.disabled = false;
        }

        // 6. ุชุญุฏูุซ ุจูุงูุงุช ุงูุทุงูุจ (ูููุญูุธ)
        async function submitTeacherUpdate() {
            const btn = document.getElementById('tUpdateBtn');
            const data = {
                action: 'updateScore',
                id: document.getElementById('tTargetID').value,
                parts: document.getElementById('tParts').value,
                grade: document.getElementById('tGrade').value,
                today: document.getElementById('tTodayRecord').value,
                msg: document.getElementById('tMsg').value
            };

            if(!data.id || !data.parts) return alert("ูุฑุฌู ุชุนุจุฆุฉ ุงูุญููู ุงูุฃุณุงุณูุฉ");

            btn.innerText = "ุฌุงุฑู ุงูุญูุธ ูู ุงูุณุญุงุจุฉ..."; btn.disabled = true;

            try {
                await fetch(scriptURL, { method: 'POST', body: JSON.stringify(data) });
                alert("โ ุชู ุชุญุฏูุซ ุจูุงูุงุช ุงูุทุงูุจ ุจูุฌุงุญ!");
                document.getElementById('tTargetID').value = "";
                document.getElementById('tParts').value = "";
                document.getElementById('tMsg').value = "";
            } catch (e) {
                alert("โ ูุดู ุงูุชุญุฏูุซ");
            }
            btn.innerText = "ุญูุธ ุงูุจูุงูุงุช ูู ุงูุณุฌู ุงูุณุญุงุจู"; btn.disabled = false;
        }

        // 7. ุชุณุฌูู ุทุงูุจ ุฌุฏูุฏ
        async function submitNewStudent() {
            const btn = document.getElementById('regBtn');
            const data = {
                action: 'register',
                name: document.getElementById('regName').value,
                phone: document.getElementById('regPhone').value,
                mosque: document.getElementById('regMosque').value,
                teacher: document.getElementById('regTeacher').value
            };

            if(!data.name || !data.phone) return alert("ูุฑุฌู ุฅููุงู ุงูุจูุงูุงุช");

            btn.innerText = "ุฌุงุฑู ุฅุฑุณุงู ุงูุทูุจ..."; btn.disabled = true;

            try {
                await fetch(scriptURL, { method: 'POST', body: JSON.stringify(data) });
                alert("โ ุชู ุฅุฑุณุงู ุทูุจู ุจูุฌุงุญ. ุณูุชูุงุตู ูุนูู ูุฑูุจุงู ุนุจุฑ ูุงุชุณุงุจ.");
                goToPage('home');
            } catch (e) {
                alert("โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุงูุชุณุฌูู");
            }
            btn.innerText = "ุฅุฑุณุงู ุทูุจ ุงูุงูุชุญุงู"; btn.disabled = false;
        }
    </script>
</body>
</html>
